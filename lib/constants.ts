// MVP版の固定ユーザーID
export const DEFAULT_USER_ID = '00000000-0000-0000-0000-000000000001';

// レアリティ定義
export const RARITY_CHOICES = [
  { code: 'C', name: 'コモン' },
  { code: 'U', name: 'アンコモン' },
  { code: 'R', name: 'レア' },
  { code: 'RR', name: 'ダブルレア' },
  { code: 'RRR', name: 'トリプルレア' },
  { code: 'SR', name: 'スーパーレア' },
  { code: 'SAR', name: 'スペシャルアートレア' },
  { code: 'AR', name: 'アートレア' },
  { code: 'UR', name: 'ウルトラレア' },
  { code: 'SSR', name: 'シャイニースーパーレア' },
  { code: 'HR', name: 'ハイパーレア' },
  { code: 'CSR', name: 'キャラクタースーパーレア' },
] as const;

export type RarityCode = typeof RARITY_CHOICES[number]['code'];

// シリーズ発売日順（小さい数値が古い）
// 参考: ポケモンカード公式サイトの発売日情報
export const SERIES_ORDER: Record<string, number> = {
  // ソード＆シールドシリーズ（2019年〜）
  's12a': 100,      // 2022/10/21 VSTAR ユニバース

  // スカーレット＆バイオレットシリーズ（2023年〜）
  'sv1s': 200,      // 2023/01/20 スカーレットex
  'sv1v': 201,      // 2023/01/20 バイオレットex
  'sv1a': 202,      // 2023/01/20 トリプレットビート
  'sv2d': 210,      // 2023/03/10 クレイバースト
  'sv2p': 211,      // 2023/03/10 スノーハザード
  'sv2a': 212,      // 2023/04/14 ポケモンカード151
  'sv3': 220,       // 2023/06/16 黒炎の支配者
  'sv3a': 221,      // 2023/07/28 レイジングサーフ
  'sv4a': 230,      // 2023/09/22 シャイニートレジャーex
  'sv4k': 231,      // 2023/10/27 古代の咆哮
  'sv4m': 232,      // 2023/10/27 未来の一閃
  'sv5a': 240,      // 2023/12/01 クリムゾンヘイズ
  'sv5k': 241,      // 2024/01/26 ワイルドフォース
  'sv5m': 242,      // 2024/01/26 サイバージャッジ
  'sv6': 250,       // 2024/03/22 変幻の仮面
  'sv6a': 251,      // 2024/04/26 ナイトワンダラー
  'sv7': 260,       // 2024/06/07 ステラミラクル
  'sv7a': 261,      // 2024/07/19 超電ブレイカー
  'sv8': 270,       // 2024/09/13 楽園ドラゴーナ
  'svg': 275,       // 2024/10 バトルアカデミー
  'sv9': 280,       // 2024/10/18 サーナイトex スペシャルセット
  'sv9a': 281,      // 2024/11/15 パラダイムトリガー
  'sv10': 290,      // 2024/12/06 スターターセットex
  'sv11w': 300,     // 2025/01/24 超克のリザードン
  'sv11b': 301,     // 2025/01/24 究極のミュウツー
  'svod': 350,      // スターターデッキ（オーリムの野望）
  'svom': 351,      // スターターデッキ（フトゥーの野望）

  // ポケモンカード ポケットシリーズ（2024年〜）
  'm1s': 400,       // 2024/10/30 遺伝子の起源 最強の遺伝子
  'm1l': 401,       // 2024/10/30 遺伝子の起源 神秘の島
  'mbd': 410,       // ブースターデッキ（ディアルガ）
  'mbg': 411,       // ブースターデッキ（ゲノセクト）
  'm2': 420,        // 2024/12/17 幻のいる島
  'm2a': 430,       // 2025/01/30 光と闇の覚醒
  'mc': 500,        // ポケモンカードクラシック

  // プロモカード
  'promo': 900,     // プロモカード（旧）
  'promo_sv': 901,  // プロモカード（SV）
};

// シリーズ順を取得（未定義の場合は999を返す）
export function getSeriesOrder(seriesCode: string): number {
  return SERIES_ORDER[seriesCode] ?? 999;
}

// シリーズごとのノーマルカード総枚数
// カードラッシュの検索形式: AR 079/078 SV1S の「/078」部分に使用
export const SERIES_TOTAL_CARDS: Record<string, number | string> = {
  // ソード＆シールドシリーズ
  's12a': 172,   // VSTAR ユニバース

  // スカーレットex / バイオレットex
  'sv1s': 78,
  'sv1v': 78,
  'sv1a': 73,

  // クレイバースト / スノーハザード / ポケモンカード151
  'sv2d': 71,
  'sv2p': 71,
  'sv2a': 165,

  // 黒炎の支配者 / レイジングサーフ
  'sv3': 108,
  'sv3a': 62,

  // 古代の咆哮 / 未来の一閃 / シャイニートレジャーex
  'sv4k': 66,
  'sv4m': 66,
  'sv4a': 190,

  // ワイルドフォース / サイバージャッジ / クリムゾンヘイズ
  'sv5k': 71,
  'sv5m': 71,
  'sv5a': 66,

  // 変幻の仮面 / ナイトワンダラー
  'sv6': 101,
  'sv6a': 64,

  // ステラミラクル / 超電ブレイカー
  'sv7': 102,
  'sv7a': 64,

  // 楽園ドラゴーナ / テラスタルフェス
  'sv8': 106,
  'sv8a': 90,

  // サーナイトex スペシャルセット / パラダイムトリガー
  'sv9': 38,
  'sv9a': 96,

  // スターターセットex
  'sv10': 28,

  // 超克のリザードン / 究極のミュウツー
  'sv11w': 80,
  'sv11b': 80,

  // バトルアカデミー
  'svg': 28,

  // スターターデッキ
  'svod': 20,
  'svom': 20,

  // ポケモンカード ポケットシリーズ
  'm1s': 86,    // 遺伝子の起源 最強の遺伝子
  'm1l': 86,    // 遺伝子の起源 神秘の島
  'mbd': 20,    // ブースターデッキ（ディアルガ）
  'mbg': 20,    // ブースターデッキ（ゲノセクト）
  'm2': 86,     // 幻のいる島
  'm2a': 86,    // 光と闘の覚醒
  'mc': 60,     // ポケモンカードクラシック

  // プロモカード（SV-Pを使用）
  'promo': 'SV-P',
  'promo_sv': 'SV-P',
};

// シリーズコードに対応する総枚数を取得
export function getSeriesTotalCards(seriesCode: string): string {
  const total = SERIES_TOTAL_CARDS[seriesCode.toLowerCase()];
  if (total === undefined) {
    return '???';  // 未知のシリーズ
  }
  return String(total).padStart(3, '0');
}
